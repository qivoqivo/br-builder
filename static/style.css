/* GLOBALNE USTAWIENIA */
body { background: #050505; color: #e0e0e0; font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; overflow: hidden; user-select: none; display: flex; flex-direction: column; height: 100vh; }

/* POWIADOMIENIA (TOAST) */
#toast-msg {
    position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
    background: rgba(217, 83, 79, 0.95); color: #fff; padding: 10px 25px;
    border-radius: 6px; font-weight: bold; font-size: 16px; z-index: 20000;
    opacity: 0; pointer-events: none; transition: opacity 0.3s, top 0.3s;
    box-shadow: 0 5px 15px rgba(0,0,0,0.8); border: 1px solid #ff4444;
}
#toast-msg.show { opacity: 1; top: 30px; }

/* GÓRNY PASEK */
.topbar { height: 60px; flex-shrink: 0; background: #0a0a0a; border-bottom: 1px solid #222; display: flex; justify-content: space-between; align-items: center; padding: 0 30px; box-shadow: 0 5px 15px rgba(0,0,0,0.5); z-index: 500; }
.logo { font-size: 20px; font-weight: bold; font-style: italic; letter-spacing: 1px; color: #fff; text-shadow: 0 0 10px rgba(0,173,181,0.3); }
.top-actions { display: flex; gap: 15px; align-items: center; }
.nav-divider { width: 1px; height: 20px; background: #333; margin: 0 5px; }

/* PRZEZROCZYSTE GUZIKI GŁÓWNE */
.btn-nav { background: transparent; border: 1px solid #444; color: #aaa; padding: 8px 15px; border-radius: 4px; font-weight: bold; cursor: pointer; transition: 0.2s; text-transform: uppercase; font-size: 11px;}
.btn-nav:hover { background: rgba(255,255,255,0.05); color: #fff; border-color: #666; transform: translateY(-2px); }

.ghost-btn-cyan { background: transparent; color: #00adb5; border: 1px solid #00adb5; border-radius: 4px; font-weight: bold; cursor: pointer; transition: 0.2s; text-transform: uppercase; }
.ghost-btn-cyan:hover { background: rgba(0, 173, 181, 0.1); box-shadow: inset 0 0 10px rgba(0, 173, 181, 0.3), 0 0 10px rgba(0, 173, 181, 0.3); transform: translateY(-2px); color: #00ffff;}

.ghost-btn-red { background: transparent; color: #d9534f; border: 1px solid #d9534f; font-weight: bold; cursor: pointer; transition: 0.2s; text-transform: uppercase; border-radius: 4px;}
.ghost-btn-red:hover { background: rgba(217,83,79,0.1); box-shadow: inset 0 0 10px rgba(217,83,79,0.3); color: #ff4444;}

/* GŁÓWNA PRZESTRZEŃ */
.main-workspace { flex: 1; display: flex; background: radial-gradient(circle at center, #111 0%, #000 100%); height: calc(100vh - 60px); overflow: hidden; }
.side-panel { width: 340px; background: transparent; border-left: 1px solid #1a1a1a; border-right: 1px solid #1a1a1a; display: flex; flex-direction: column; z-index: 100; height: 100%; overflow: hidden; position: relative;}
.panel-header { padding: 15px; text-align: center; font-weight: bold; font-size: 12px; background: transparent; border-bottom: 1px solid #00adb5; color: #00adb5; letter-spacing: 2px; text-transform: uppercase; flex-shrink: 0;}

/* SMART PANEL WIDOKI (PRAWA STRONA) */
.smart-view { flex: 1; display: flex; flex-direction: column; overflow: hidden; height: 100%; }
.item-panel-header { color:#00adb5; border-bottom:1px solid #222; padding: 15px; display:flex; flex-direction:column; gap:12px; background: transparent;}
.close-panel-btn { background:none; border:none; color:#d9534f; font-weight:bold; cursor:pointer; font-size:16px; transition:0.2s; }
.close-panel-btn:hover { transform: scale(1.2); color: #ff4444; }

/* ŚRODEK EKRANU I PASEK NARZĘDZI */
.center-workspace { flex: 1; display: flex; flex-direction: column; align-items: center; position: relative; }

.center-toolbar-wrapper { width: 100%; position: relative; z-index: 60; display: flex; flex-direction: column; align-items: center;}
.center-toolbar { width: 100%; display: flex; justify-content: center; align-items: center; gap: 20px; background: rgba(5,5,5,0.8); border-bottom: 1px dashed #222; padding: 15px 30px; box-sizing: border-box;}
.toolbar-item { display: flex; align-items: center; gap: 8px;}

.tb-label { font-size: 10px; color: #666; font-weight: bold; text-transform: uppercase; letter-spacing: 1px;}

/* PRZEZROCZYSTE INPUTY */
.top-input.ghost, .top-select.ghost { 
    border: 1px solid #333; color: #00adb5; 
    padding: 6px 10px; border-radius: 4px; font-weight: bold; outline: none; font-size: 12px; 
}
.top-input.ghost { background: transparent; width: 60px; text-align: center; }
.top-input.ghost::-webkit-outer-spin-button, .top-input.ghost::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
.top-input.ghost[type=number] { -moz-appearance: textfield; }

.top-select.ghost { width: 140px; cursor: pointer; background: #0a0a0a; }
.top-select.ghost option { background: #0a0a0a; color: #00adb5; }
.top-input.ghost:focus, .top-select.ghost:focus { border-color: #00adb5; box-shadow: 0 0 5px rgba(0,173,181,0.2);}

/* Przezroczysty toggle mnożnika */
.ghost-group { display: flex; border: 1px solid #333; border-radius: 4px; overflow: hidden; }
.ghost-group .mult-btn { background: transparent; border: none; border-right: 1px solid #333; color: #666; padding: 6px 12px; font-size: 11px; font-weight: bold; cursor: pointer; transition: 0.2s;}
.ghost-group .mult-btn:last-child { border-right: none; }
.ghost-group .mult-btn.active { background: rgba(0, 173, 181, 0.1); color: #00adb5; }

.toggle-drawer-btn { padding: 8px 20px; font-size: 11px; letter-spacing: 1px; min-width: 250px; }

/* WYSUWANY PANEL STATYSTYK (DRAWER) */
.stats-drawer {
    position: absolute; top: 60px; left: 50%; 
    transform: translate3d(-50%, 0, 0);
    background: #080808; border: 1px solid #00adb5; border-top: none; border-radius: 0 0 8px 8px;
    padding: 20px 25px; box-shadow: 0 15px 40px rgba(0,0,0,0.9); z-index: 50;
    width: 800px; opacity: 1;
    transition: transform 0.2s cubic-bezier(0, 1, 0.5, 1), opacity 0.2s ease-out;
    will-change: transform, opacity;
}
.stats-drawer.hidden { 
    display: block !important; 
    transform: translate3d(-50%, -20px, 0); 
    opacity: 0; pointer-events: none; visibility: hidden; 
}

.top-bar-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; }
.top-attr-box { display: flex; align-items: center; justify-content: space-between; background: transparent; border: 1px solid #333; border-radius: 4px; padding: 5px 8px; transition: 0.2s;}
.top-attr-box:hover { border-color: #00adb5; box-shadow: inset 0 0 10px rgba(0,173,181,0.1); }
.top-attr-name { display: flex; align-items: center; gap: 8px; color: #aaa; font-size: 11px; font-weight: bold; text-transform: uppercase; width: 65px; }
.top-attr-name img { width: 16px; height: 16px; opacity: 0.7; }
.top-attr-controls { display: flex; align-items: center; gap: 5px; }
.btn-top-alloc { background: transparent; border: 1px solid #444; color: #00adb5; width: 22px; height: 22px; cursor: pointer; border-radius: 3px; font-weight: bold; display: flex; align-items: center; justify-content: center; font-size: 14px; transition: 0.1s;}
.btn-top-alloc:hover { background: rgba(0, 173, 181, 0.1); border-color: #00adb5; color: #00ffff; }
.btn-top-alloc:active { transform: scale(0.9); }
.top-stat-val { width: 35px; text-align: center; color: #fff; font-weight: bold; font-size: 13px; }

/* LEWY PANEL */
.stats-content { flex: 1; padding: 15px 20px; overflow-y: auto; overflow-x: hidden; height: 100%;}
.stats-content::-webkit-scrollbar { width: 3px; } .stats-content::-webkit-scrollbar-thumb { background: #333; border-radius: 2px; }

.stat-group { margin-bottom: 25px; background: transparent; }
.stat-header-row { display: flex; align-items: center; padding-bottom: 5px; border-bottom: 1px solid #222; margin-bottom: 8px; }

.stat-item-clean { display: flex; align-items: center; justify-content: space-between; padding: 6px 0; border-bottom: 1px dotted #1a1a1a; transition: 0.1s;}
.stat-item-clean:hover { background: rgba(255,255,255,0.02); }
.stat-item-name { display: flex; align-items: center; gap: 10px; flex: 1; }
.stat-item-name img { width: 14px; height: 14px; opacity: 0.6;}
.stat-item-name span { color: #888; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px;}
.stat-item-base { width: 40px; text-align: right; color: #555; font-size: 11px; }
.stat-item-eq { width: 40px; text-align: right; color: #00ff66; font-size: 11px; font-weight: bold;}
.stat-item-sum { width: auto; min-width: 45px; text-align: right; color: #00adb5; font-size: 13px; font-weight: bold; text-shadow: 0 0 5px rgba(0,173,181,0.2); white-space: nowrap;}

.stat-group-title { color: #555; font-size: 10px; font-weight: bold; text-transform: uppercase; margin-bottom: 8px; letter-spacing: 2px; border-bottom: 1px solid #222; padding-bottom: 4px;}

/* PRAWY PANEL - LISTA MODÓW I PRZYCISK */
.bottom-action-bar { padding: 15px; border-top: 1px solid #1a1a1a; background: transparent; flex-shrink: 0; width: 100%; box-sizing: border-box; }
.full-width-btn { width: 100%; padding: 12px; font-size: 11px; letter-spacing: 2px; }

.stat-item { display: flex; justify-content: space-between; padding: 6px 0; font-size: 11px; background: transparent; border-bottom: 1px dotted #222; margin-bottom: 2px; align-items: flex-start;}
.stat-item .t-label { flex: 1; padding-right: 10px; line-height: 1.3; word-break: break-word; color: #888;}
.stat-item .val { font-weight: bold; color: #fff; flex-shrink: 0; white-space: nowrap;} 
.stat-item .val.pos { color: #00ff66; }

/* BOCZNY PANEL PRZEDMIOTÓW */
.item-grid-right { display: grid; gap: 8px; grid-template-columns: repeat(4, minmax(0, 1fr)); padding-bottom: 20px; width: 100%; box-sizing: border-box;}
.grid-item { background: transparent; border: 1px solid #333; border-radius: 4px; aspect-ratio: 1 / 1; display: flex; justify-content: center; align-items: center; cursor: pointer; transition: 0.1s; position: relative; box-shadow: inset 0 0 10px rgba(0,0,0,0.5); box-sizing: border-box;}
.grid-item:hover { border-color: #00adb5; background: rgba(0,173,181,0.05); transform: scale(1.05); z-index: 5; }
.grid-item img.main-icon { width: 75%; height: 75%; max-width: 100%; object-fit: contain; filter: drop-shadow(0 0 3px rgba(0,0,0,0.8)); transition: 0.2s;}
.grid-item.locked-item { background: transparent; border-color: #1a1a1a; cursor: not-allowed; }
.grid-item.locked-item:hover { transform: none; border-color: #333; z-index: 1;}
.grid-item.locked-item img.main-icon { opacity: 0.2; filter: grayscale(100%); }
.lock-overlay { position: absolute; top: 2px; right: 2px; font-size: 12px; color: #d9534f; opacity: 0.6; pointer-events: none;}

@keyframes shake { 0% { transform: translateX(0); } 25% { transform: translateX(-5px); border-color: #d9534f; } 50% { transform: translateX(5px); } 75% { transform: translateX(-5px); } 100% { transform: translateX(0); border-color: #333;} }
.shake-anim { animation: shake 0.3s ease-in-out; border-color: #d9534f !important; }

/* ŚRODKOWE KOŁO */
.wheel-container { width: 650px; height: 650px; position: relative; margin-top: auto; margin-bottom: auto;}
.center-character { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); display: flex; flex-direction: column; align-items: center; z-index: 5; pointer-events: none; }
.power-display { font-size: 70px; font-weight: bold; color: #fff; text-shadow: 0 0 20px #00adb5; margin-bottom: -5px; font-family: impact, sans-serif; transition: 0.5s;}
.power-label { color: #00adb5; font-size: 18px; font-weight: bold; text-transform: uppercase; letter-spacing: 3px; text-shadow: 0 0 5px rgba(0,173,181,0.5); }
.character-silhouette { width: 150px; height: 300px; background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 200" xmlns="http://www.w3.org/2000/svg"><path d="M50 20 C60 20, 65 30, 65 40 C65 50, 60 55, 50 55 C40 55, 35 50, 35 40 C35 30, 40 20, 50 20 Z M30 65 L70 65 L85 130 L65 130 L65 190 L35 190 L35 130 L15 130 Z" fill="%231a1a1a"/></svg>') no-repeat center center; background-size: contain; filter: drop-shadow(0 0 20px rgba(0,173,181,0.1)); opacity: 0.6; }

/* SLOTY KOŁA */
.slot { width: 90px; height: 90px; position: absolute; background: transparent; border: 1px solid #333; border-radius: 8px; cursor: pointer; transition: 0.2s; z-index: 10; display: flex; justify-content: center; align-items: center; overflow: visible !important; box-shadow: inset 0 0 15px rgba(0,0,0,0.8);}
.slot:hover { border-color: #00adb5; z-index: 100; box-shadow: inset 0 0 20px rgba(0,173,181,0.2), 0 0 15px rgba(0,173,181,0.3); }

.slot::before { content: none !important; display: none !important; }

/* Placeholdery PNG */
.slot.empty .placeholder-img { max-width: 60%; max-height: 60%; object-fit: contain; opacity: 0.15; filter: grayscale(100%); transition: 0.3s; pointer-events: none;}
.slot.empty:hover .placeholder-img { opacity: 0.4; transform: scale(1.1); filter: grayscale(50%); }
.slot.equipped .placeholder-img { display: none; }

.item-img { width: 70%; height: 70%; object-fit: contain; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); pointer-events:none; filter: drop-shadow(0 0 5px rgba(0,0,0,0.8));}

/* =========================================================
   ZMIANA: POWIĘKSZONE KÓŁECZKA ORBÓW I DRIFÓW
   ========================================================= */
.orb-socket { 
    width: 34px; height: 34px; /* Powiększone */
    position: absolute; top: -16px; /* Przesunięte wyżej */
    left: 50%; transform: translateX(-50%); 
    background: #050505; border: 2px solid #444; border-radius: 50%; 
    display: flex; justify-content: center; align-items: center; 
    z-index: 160; transition: 0.2s; opacity: 0; pointer-events: auto; cursor:pointer;
}
.slot.equipped .orb-socket { opacity: 1; }
.orb-socket:hover { border-color: #d000d0; transform: translateX(-50%) scale(1.1); box-shadow: 0 0 10px rgba(208, 0, 208, 0.6);}
.orb-socket img { width: 100%; height: 100%; border-radius: 50%; pointer-events:none;}

.driff-container { 
    position: absolute; bottom: -14px; /* Przesunięte niżej */
    left: 50%; transform: translateX(-50%); 
    display: flex; gap: 4px; /* Większy odstęp między drifami */
    pointer-events: none; z-index: 150; opacity: 0; 
}
.slot.equipped .driff-container { opacity: 1; pointer-events: auto; }

.driff-socket { 
    width: 24px; height: 24px; /* Powiększone */
    background: #050505; border: 2px solid #444; border-radius: 50%; 
    display: flex; justify-content: center; align-items: center; 
    cursor: pointer; transition: 0.2s; 
}
.driff-socket:hover { border-color: #ffaa00; transform: scale(1.2); z-index: 200; box-shadow: 0 0 10px rgba(255, 170, 0, 0.6);}
.driff-socket img { width: 100%; height: 100%; border-radius: 50%; pointer-events:none;}

/* MENU KONTEKSTOWE DRIFÓW/ORBÓW */
#context-menu { position: absolute; z-index: 10500; background: rgba(10, 10, 10, 0.98); border: 1px solid #333; border-radius: 6px; box-shadow: 0 10px 30px rgba(0,0,0,0.95); font-size: 11px; min-width: 170px; padding: 4px 0; color: #ddd; }
.ctx-menu, .ctx-submenu { list-style: none; margin: 0; padding: 0; }
.ctx-submenu { position: absolute; top: -1px; left: 100%; background: rgba(10, 10, 10, 0.98); border: 1px solid #333; border-radius: 4px; display: none; min-width: 180px; padding: 4px 0; box-shadow: 0 8px 25px rgba(0,0,0,0.95); }
#context-menu.align-right .ctx-submenu { left: auto; right: 100%; }
.ctx-item { padding: 8px 15px; cursor: pointer; display: flex; align-items: center; justify-content: space-between; position: relative; transition: 0.1s; }
.ctx-item:hover { background: #1a1a1a; color: #fff; }
.ctx-item:hover > .ctx-submenu { display: block; }
.ctx-item.has-sub::after { content: '▶'; font-size: 8px; margin-left: 10px; opacity: 0.5; }
.ctx-item:hover.has-sub::after { color: #fff; opacity: 1; }
.ctx-divider { height: 1px; background: #222; margin: 4px 0; }
.ctx-icon { width: 18px; height: 18px; margin-right: 10px; border-radius: 50%; border: 1px solid #000;}

/* SUWAK W MENU EDYCJI WŁOŻONEGO DRIFA */
.ctx-slider { -webkit-appearance: none; background: transparent; width: 100%; height: 4px; margin: 0 15px; }
.ctx-slider::-webkit-slider-runnable-track { width: 100%; height: 2px; background: #333; border-radius: 1px; }
.ctx-slider::-webkit-slider-thumb { -webkit-appearance: none; height: 14px; width: 14px; border-radius: 50%; background: var(--ctx-color); cursor: pointer; margin-top: -6px; box-shadow: 0 0 5px var(--ctx-color); transition: 0.2s;}
.ctx-slider::-webkit-slider-thumb:hover { transform: scale(1.3); }

/* OPTYMALIZACJA GPU DLA TOOLTIPÓW */
#tooltip { 
    position: fixed; 
    top: 0; left: 0;
    background: rgba(8, 8, 8, 0.98); border: 1px solid #333; border-radius: 6px; 
    padding: 15px; z-index: 11000; min-width: 250px; max-width: 320px; 
    display: none; pointer-events: none; box-shadow: 5px 5px 25px rgba(0, 0, 0, 0.9); 
    will-change: transform; 
}
#tooltip.locked { pointer-events: auto; border-color: #00adb5; box-shadow: 0 10px 40px rgba(0,0,0,0.9), 0 0 15px rgba(0,173,181,0.2); }

.t-btn-star { background: transparent; border: none; color: #555; font-weight: bold; width: 24px; height: 24px; cursor: pointer; transition: 0.2s; font-size: 20px; display: flex; align-items: center; justify-content: center; padding: 0;}
.t-btn-star:hover { color: #ffaa00; transform: scale(1.3); text-shadow: 0 0 10px rgba(255, 170, 0, 0.6);}

.t-action-btn { background: transparent; border: none; color: #888; font-weight: bold; font-size: 10px; text-transform: uppercase; padding: 6px; cursor: pointer; transition: 0.2s; flex: 1; letter-spacing: 1px; border-radius: 4px; }
.t-action-btn:hover { color: #00adb5; border-color: #00adb5; background: rgba(0,173,181,0.1); }
.t-action-btn.remove:hover { color: #d9534f; border-color: #d9534f; background: rgba(217,83,79,0.1); }

.t-row { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 4px; font-size: 12px; gap: 15px; }
.t-label { color: #888; flex: 1; min-width: 0; word-break: break-word; white-space: normal; line-height: 1.3; } 
.t-val-container { flex-shrink: 0; white-space: nowrap; text-align: right; display: flex; align-items: flex-start; justify-content: flex-end;} 
.t-val { color: #ddd; font-weight: bold; }

.t-green { color: #00ff66; font-weight: bold; margin-left: 5px; }
.t-green-empty { margin-left: 5px; display: inline-block; }
.t-red { color: #d9534f; font-weight: bold; }
.t-blue { color: #00adb5; font-weight: bold; }
.t-cyan { color: #00adb5; font-weight: bold; font-size: 15px; margin-bottom: 5px; text-align: center; text-transform: uppercase; letter-spacing: 1px;}
.t-epic { color: #ffaa00; font-weight: bold; font-size: 15px; margin-bottom: 5px; text-align: center; text-transform: uppercase; letter-spacing: 1px;}

/* OVERLAY OGÓLNY */
.hidden { display: none !important; }
.overlay { 
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
    background: rgba(0, 0, 0, 0.9); 
    z-index: 9999; display: flex; justify-content: center; align-items: center; 
    opacity: 1; transition: opacity 0.15s ease-out; will-change: opacity;
}
.overlay.hidden { display: flex !important; opacity: 0; pointer-events: none; visibility: hidden; }

/* SYSTEM MODALI (ZAMIAST ALERT) */
.modal-panel { width: 450px !important; background: #0a0a0a !important; border: 1px solid #333 !important; box-shadow: 0 20px 50px rgba(0,0,0,0.95) !important; padding: 0 !important; border-radius: 6px !important; overflow: hidden; }
.modal-header { padding: 15px 20px; border-bottom: 1px solid #222; }
.modal-header h3 {margin: 0; color: #00adb5; font-size: 14px; text-transform: uppercase; letter-spacing: 1px; }
.modal-body { padding: 20px; color: #ccc; font-size: 13px; line-height: 1.5; }
.modal-actions { padding: 15px 20px; border-top: 1px solid #222; display: flex; justify-content: flex-end; gap: 10px; background: rgba(255,255,255,0.02); }

/* WIZUALNY PLECAK DRIFÓW */
.ad-minimal-panel { width: 540px !important; padding: 0 !important; background: rgba(10,10,10,0.95) !important; border: 1px solid #00adb5 !important; border-radius: 8px !important; box-shadow: 0 25px 50px rgba(0,0,0,0.9) !important; display: flex; flex-direction: column; overflow: hidden; }

.ad-top-section { padding: 25px 25px 0 25px; }
.ad-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;}
.ad-header h3 { color: #00adb5; font-size: 14px; margin: 0; font-weight: bold; letter-spacing: 2px; }
.ad-close-btn { background: none; border: none; color: #444; font-size: 18px; cursor: pointer; transition: 0.2s; }
.ad-close-btn:hover { color: #ff4444; transform: rotate(90deg); }

.ad-tier-selector { display: flex; gap: 10px; margin-bottom: 20px; justify-content: center;}
.ad-tier-btn { background: transparent; border: 1px solid #333; padding: 6px 20px; border-radius: 4px; color: #555; font-size: 10px; font-weight: bold; cursor: pointer; transition: 0.3s; text-transform: uppercase; }
.ad-tier-btn:hover { border-color: #555; color: #fff; }
.ad-tier-btn.active { border-color: var(--ad-theme); color: var(--ad-theme); background: color-mix(in srgb, var(--ad-theme) 10%, transparent); }

.ad-workspace { margin-bottom: 15px; padding: 0 25px;}
.ad-tabs { display: flex; justify-content: space-between; border-bottom: 1px solid #222; margin-bottom: 20px; position: relative;}
.ad-tab { background: transparent; border: none; padding: 8px 0; color: #444; font-size: 11px; font-weight: bold; cursor: pointer; transition: 0.3s; position: relative; text-transform: uppercase;}
.ad-tab:hover { color: #777; }
.ad-tab.active { color: #ddd; }
.ad-tab.active::after { content: ''; position: absolute; bottom: -1px; left: 0; width: 100%; height: 2px; background: var(--ad-theme); box-shadow: 0 -1px 8px var(--ad-theme); }

.ad-grid { display: flex; justify-content: center; flex-wrap: wrap; gap: 15px; min-height: 50px; padding-bottom: 15px; }
.ad-driff-icon { width: 44px; height: 44px; border-radius: 50%; cursor: pointer; transition: 0.3s; background: transparent; padding: 2px; box-shadow: inset 0 0 10px rgba(0,0,0,0.8); border: 1px solid #333; }
.ad-driff-icon:hover { transform: translateY(-2px) scale(1.05); border-color: #666; }
.ad-driff-icon.selected { border-color: var(--ad-theme); box-shadow: 0 0 15px color-mix(in srgb, var(--ad-theme) 40%, transparent); transform: scale(1.1); }

.ad-controls { background: transparent; border: 1px solid #333; padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; border-radius: 4px; margin: 0 25px 25px 25px; }
.ad-control-left { display: flex; align-items: center; gap: 12px; flex: 1; min-width: 0; }
.ad-img-wrapper img { width: 32px; height: 32px; border-radius: 50%; border: 1px solid var(--ad-theme); background: transparent;}
#ad-preview-name { color: #ccc; font-weight: bold; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.ad-control-right { display: flex; align-items: center; gap: 12px; flex-shrink: 0; }
.ad-lbl { color: #555; font-size: 9px; font-weight: bold; letter-spacing: 1px; }

input[type=range].ad-slider { -webkit-appearance: none; width: 70px; background: transparent; cursor: pointer; }
input[type=range].ad-slider::-webkit-slider-runnable-track { width: 100%; height: 2px; background: #333; border-radius: 1px; }
input[type=range].ad-slider::-webkit-slider-thumb { -webkit-appearance: none; height: 12px; width: 12px; border-radius: 50%; background: var(--ad-theme); cursor: pointer; margin-top: -5px; transition: 0.2s; box-shadow: 0 0 5px var(--ad-theme);}
input[type=range].ad-slider::-webkit-slider-thumb:hover { transform: scale(1.2); }
#ad-lvl-display { font-size: 14px; font-weight: bold; color: var(--ad-theme); width: 18px; text-align: center; }

.ad-checkbox-container { display: flex; align-items: center; cursor: pointer; font-size: 10px; color: #666; font-weight: bold; gap: 6px; transition: 0.2s; margin-right: 5px;}
.ad-checkbox-container:hover { color: #aaa; }
.ad-checkbox-container input { display: none; }
.ad-checkmark { width: 12px; height: 12px; border: 1px solid #333; border-radius: 3px; display: flex; justify-content: center; align-items: center; transition: 0.2s; background: transparent;}
.ad-checkbox-container input:checked + .ad-checkmark { background: rgba(0,173,181,0.2); border-color: var(--ad-theme); }
.ad-checkbox-container input:checked + .ad-checkmark::after { content: '✔'; color: var(--ad-theme); font-size: 8px; }

.ghost-btn-solid { background: transparent; color: var(--ad-theme); padding: 6px 16px; border-radius: 3px; border: 1px solid var(--ad-theme); font-weight: bold; font-size: 10px; cursor: pointer; transition: 0.2s; text-transform: uppercase; letter-spacing: 1px; }
.ghost-btn-solid:hover { background: rgba(0,173,181,0.1); box-shadow: inset 0 0 5px rgba(0,173,181,0.4); }

.ad-inventory-section { background: transparent; padding: 20px 25px; border-top: 1px dashed #222; }
.ad-inventory-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
.ad-inventory-header span { color: #666; font-size: 10px; font-weight: bold; letter-spacing: 1px; text-transform: uppercase;}
#ad-count-badge { background: transparent; color: #00adb5; padding: 2px 8px; border-radius: 4px; font-size: 10px; border: 1px solid #00adb5;}

.ad-inventory-list { height: 140px; overflow-y: auto; display: flex; flex-direction: column; gap: 4px; padding-right: 5px; }
.ad-inventory-list::-webkit-scrollbar { width: 3px; } .ad-inventory-list::-webkit-scrollbar-thumb { background: #333; border-radius: 2px; }

.ad-inv-item { display: flex; align-items: center; justify-content: space-between; padding: 8px 12px; border-radius: 4px; transition: 0.2s; background: transparent; border: 1px solid #222;}
.ad-inv-item:hover { border-color: #444; background: rgba(255,255,255,0.02); }
.ad-inv-item:hover .ad-remove-btn { opacity: 1; pointer-events: auto; transform: scale(1); }

.ad-inv-item-left { display: flex; align-items: center; gap: 12px; }
.ad-inv-item img { width: 28px; height: 28px; border-radius: 50%; border: 1px solid #333; background: transparent; }
.ad-inv-details { display: flex; flex-direction: column; gap: 2px; }
.ad-inv-name { font-weight: bold; color: #ccc; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px;}
.ad-inv-sub { font-size: 9px; color: #666; font-weight: bold;}
.ad-buffer-badge { background: transparent; color: #00ff66; padding: 1px 4px; border-radius: 2px; font-size: 8px; margin-left: 6px; border: 1px solid #00ff66;}

.ad-remove-btn { background: none; border: none; color: #555; font-size: 16px; cursor: pointer; transition: 0.3s; opacity: 0; pointer-events: none; transform: scale(0.8); }
.ad-remove-btn:hover { color: #ff4444 !important; transform: scale(1.2) !important; }

.ad-pack-btn { margin-top: 15px; padding: 12px; font-size: 11px; width: 100%; letter-spacing: 2px; border-radius: 4px; text-align: center;}

/* RAPORT */
.overlay-content { background: #111; border: 1px solid #333; border-radius: 8px; padding: 20px; display: flex; flex-direction: column; box-shadow: 0 10px 40px rgba(0,0,0,0.8);}
.overlay-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 10px;}

/* STOPKA */
.footer-credit { position: fixed; bottom: 5px; right: 10px; font-size: 10px; color: #444; font-weight: bold; letter-spacing: 1px; z-index: 1000; opacity: 0.7; }